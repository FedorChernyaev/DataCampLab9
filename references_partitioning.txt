drop table DW_NOTES;
DROP TABLE DW_TIME_1;

CREATE TABLE DW_TIME_1 
   (	"DATE_ID" DATE NOT NULL, 
	"DAY_NAME" VARCHAR2(30 BYTE), 
	"DAY_NUMBER_IN_WEEK" NUMBER, 
	"DAY_NUMBER_IN_MONTH" NUMBER, 
	"DAY_NUMBER_IN_YEAR" NUMBER, 
	"CALENDAR_WEEK_NUMBER" NUMBER, 
	"WEEK_ENDING_DATE" DATE, 
	"CALENDAR_MONTH_NUMBER" NUMBER, 
	"DAYS_IN_CAL_MONTH" NUMBER, 
	"END_OF_CAL_MONTH" DATE, 
	"CALENDAR_MONTH_NAME" VARCHAR2(20 BYTE), 
	"DAYS_IN_CAL_QUARTER" NUMBER, 
	"BEG_OF_CAL_QUARTER" DATE, 
	"END_OF_CAL_QUARTER" DATE, 
	"CALENDAR_QUARTER_NUMBER" NUMBER, 
	"CALENDAR_YEAR" NUMBER, 
	"DAYS_IN_CALENDAR_YEAR" NUMBER, 
	"BEG_OF_CAL_YEAR" DATE, 
	"END_OF_CAL_YEAR" DATE,
    CONSTRAINT PK_DW_TIME_1 PRIMARY KEY (DATE_ID) )
    
    PARTITION BY RANGE (WEEK_ENDING_DATE) 
    (
    PARTITION part_1 VALUES LESS THAN (to_date('10/05/2003','dd/mm/yyyy')),
    PARTITION part_2 VALUES LESS THAN (to_date('10/06/2003','dd,mm,yyyy')),
    PARTITION part_3 VALUES LESS THAN (to_date('20/07/2003','dd/mm/yyyy')) );
    

CREATE TABLE DW_NOTES(
"DATE_ID" date NOT NULL,
"NOTE" char(50) NOT NULL,
constraint FK_DW_NOTES foreign key (DATE_ID) REFERENCES DW_TIME_1 (DATE_ID))
PARTITION BY REFERENCE (FK_DW_NOTES);


alter table DW_NOTES move partition part_2 tablespace tmp_tmp;

alter table DW_NOTES truncate partition part_2;

